#!/usr/bin/env sh

cd haskell/

echo "setting up .hs support.."

cabal sandbox init

./bin/configure 0
./bin/build 0

if [ "$?" -gt 0 ]; then
  synt_bin=`which synt`
  synt_dir=`dirname $synt_bin`

  echo "
WARNING! haskell compilation failed- .hs file support may not be available.

To get more output:
   cd $synt_dir/../lib/node_modules/synt/haskell
   ./bin/build 1

"
else
  echo "..done"
fi

cd ../

echo ""
